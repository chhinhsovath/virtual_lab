<!DOCTYPE html>
<html>
<head>
    <title>Language Test</title>
    <meta charset="UTF-8">
</head>
<body>
    <h1>Virtual Lab Cambodia Language Test</h1>
    <div id="test-results"></div>
    <div>
        <button onclick="clearStorage()">Clear localStorage</button>
        <button onclick="testLanguage()">Test Language</button>
        <button onclick="window.location.href='/'">Go to Homepage</button>
    </div>
    
    <script>
        function clearStorage() {
            localStorage.removeItem('preferred_language');
            document.getElementById('test-results').innerHTML = '<p style="color: green;">localStorage cleared!</p>';
        }
        
        function testLanguage() {
            const results = document.getElementById('test-results');
            const stored = localStorage.getItem('preferred_language');
            const browserLang = navigator.language;
            
            results.innerHTML = `
                <h3>Language Test Results:</h3>
                <p><strong>Browser Language:</strong> ${browserLang}</p>
                <p><strong>Stored Preference:</strong> ${stored || 'None'}</p>
                <p><strong>Expected Default:</strong> km (Khmer)</p>
                <p style="color: blue;"><strong>Expected Homepage Title:</strong> មន្ទីរពិសោធន៍និម្មិតកម្ពុជា</p>
                <p><strong>Instructions:</strong> Clear localStorage, then go to homepage to verify Khmer is shown by default.</p>
            `;
        }
        
        // Auto-run test on load
        testLanguage();
    </script>
</body>
</html>